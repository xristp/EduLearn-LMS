{% extends "base.html" %}
{% block title %}Ανακοινώσεις - {{ course.name }}{% endblock %}

{% block content %}
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{{ url_for('dashboard') }}">Πίνακας Ελέγχου</a></li>
        <li class="breadcrumb-item active">{{ course.name }}</li>
        <li class="breadcrumb-item active">Ανακοινώσεις</li>
    </ol>
</nav>

<div class="page-header mb-4">
    <div class="d-flex justify-content-between align-items-center">
        <div>
            <h1 class="page-title">Ανακοινώσεις</h1>
            <p class="page-subtitle">{{ course.name }}</p>
        </div>
        {% if current_user.role == 'instructor' %}
        <a href="{{ url_for('create_announcement', course_id=course.id) }}" class="btn btn-primary btn-sm">
            <i class="bi bi-plus-circle me-1"></i>Νέα
        </a>
        {% endif %}
    </div>
</div>

{% if announcements %}
{% for ann in announcements %}
<div class="card border-0 shadow-sm mb-3">
    <div class="card-body">
        <div class="d-flex justify-content-between align-items-start mb-2">
            <h5 class="fw-bold mb-0">
                <i class="bi bi-pin-angle text-primary me-2"></i>{{ ann.title }}
            </h5>
            <span class="badge bg-light text-dark">
                <i class="bi bi-clock me-1"></i>{{ ann.created_at[:16] }}
            </span>
        </div>
        <hr>
        <div class="announcement-content">
            {{ ann.content|replace('\n', '<br>')|safe }}
        </div>
        <div class="mt-3">
            <small class="text-muted">
                <i class="bi bi-person me-1"></i>{{ ann.author_name }}
            </small>
        </div>
    </div>
</div>
{% endfor %}
{% else %}
<div class="text-center py-5 text-muted">
    <i class="bi bi-megaphone fs-1"></i>
    <p class="mt-2">Δεν υπάρχουν ανακοινώσεις ακόμα.</p>
</div>
{% endif %}
{% endblock %}
